import"./modulepreload-polyfill-B5Qt9EMX.js";import{getAuth as u}from"https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";import{initializeApp as m}from"https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";import{g as p,i as y,a as f,o as h}from"./index.esm-D1DTObcl.js";async function l(e,c,r){const t=auth.currentUser;if(!t){alert("Please sign in or create an account first to subscribe."),window.location.href="/#firebaseui-auth-container";return}const n=r.currentTarget;n.innerHTML='<i class="fas fa-spinner fa-spin"></i> Preparing Test...',n.disabled=!0;try{const o=await t.getIdToken(!0),a=await fetch(PAYMENT_FUNCTION_URL,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({planId:e,priceId:c})});if(!a.ok)throw new Error(`Server error: ${await a.text()}`);const i=await a.json();if(i.checkoutUrl)console.log("Redirecting to Paddle Sandbox checkout:",i.checkoutUrl),window.location.href=i.checkoutUrl;else throw new Error("Could not get checkout URL.")}catch(o){console.error("Payment test failed:",o),alert("Could not start test payment. Check console for errors."),n.innerHTML=e==="monthly"?"Become an Insider":"Go Trailblazer",n.disabled=!1}}document.getElementById("subscribe-monthly-btn").addEventListener("click",e=>l("monthly",PADDLE_PRICE_ID_MONTHLY,e));document.getElementById("subscribe-yearly-btn").addEventListener("click",e=>l("yearly",PADDLE_PRICE_ID_YEARLY,e));const b={apiKey:"YOUR_API_KEY",authDomain:"YOUR_AUTH_DOMAIN",projectId:"YOUR_PROJECT_ID",storageBucket:"YOUR_STORAGE_BUCKET",messagingSenderId:"YOUR_SENDER_ID",appId:"YOUR_APP_ID"},g=m(b),E=u(g),I="pri_...your_monthly_id...",w="pri_...your_yearly_id...",_="https://your-vercel-project-name.vercel.app/api/create-payment";async function d(e,c,r){const t=E.currentUser;if(!t){alert("Please sign in or create an account first to subscribe."),window.location.href="/#firebaseui-auth-container";return}const n=r.currentTarget;n.innerHTML='<i class="fas fa-spinner fa-spin"></i> Redirecting...',n.disabled=!0;try{const o=await t.getIdToken(!0),a=await fetch(_,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({planId:e,priceId:c})});if(!a.ok)throw new Error(`Server error: ${await a.text()}`);const i=await a.json();if(i.checkoutUrl)window.location.href=i.checkoutUrl;else throw new Error("Could not get checkout URL.")}catch(o){console.error("Payment failed:",o),alert("Could not start payment process. Please try again."),n.innerHTML=e==="monthly"?"Become an Insider":"Go Trailblazer",n.disabled=!1}}document.getElementById("subscribe-monthly-btn").addEventListener("click",e=>d("monthly",I,e));document.getElementById("subscribe-yearly-btn").addEventListener("click",e=>d("yearly",w,e));const T={apiKey:"AIzaSyDfJspAjl93a5PnPENic7AG8yRT9vwRjh4",authDomain:"polyglot-connect-ffdcc.firebaseapp.com",projectId:"polyglot-connect-ffdcc",storageBucket:"polyglot-connect-ffdcc.appspot.com",messagingSenderId:"367332280854",appId:"1:367332280854:web:6513364f7b63f53331b058"};new Promise((e,c)=>{const r=async()=>{try{const t=await fetch("/landing/landing-navbar.html");if(!t.ok)throw new Error("Navbar HTML not found");const n=await t.text();document.body.insertAdjacentHTML("afterbegin",n),L(),e()}catch(t){console.error("CRITICAL: Failed to load navbar.",t),c(t)}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):r()});function L(){const e=document.getElementById("landing-navbar"),c=document.getElementById("hamburger-btn"),r=document.getElementById("mobile-nav-menu"),t=document.getElementById("landing-navbar-actions"),n=document.getElementById("mobile-nav-actions");if(!e||!c||!r||!t||!n){console.error("Navbar interactive elements could not be found after injection.");return}let o;try{o=p()}catch{o=y(T)}const a=f(o);c.addEventListener("click",()=>r.classList.toggle("active")),window.addEventListener("scroll",()=>e.classList.toggle("scrolled",window.scrollY>50)),h(a,i=>{const s=i?'<a href="/app.html">Enter App</a>':'<a href="/">Sign In</a>';t.innerHTML=s,n.innerHTML=s})}
