*,*:before,*:after{box-sizing:border-box}body,h1,h2,h3,h4,h5,h6,p,blockquote,figure,dl,dd,ol,ul,fieldset,legend{margin:0;padding:0}ul[role=list],ol[role=list]{list-style:none}html:focus-within{scroll-behavior:smooth}body{min-height:100vh;text-rendering:optimizeSpeed;line-height:1.5}a:not([class]){text-decoration-skip-ink:auto}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit;color:inherit}@media (prefers-reduced-motion: reduce){html:focus-within{scroll-behavior:auto}*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}button{background:none;border:none;padding:0;cursor:pointer;color:inherit;font:inherit}:root{--primary-color: #007bff;--primary-color-darker: #0056b3;--primary-color-lighter: #cce5ff;--secondary-color: #6c757d;--secondary-color-darker: #5a6268;--secondary-color-lighter: #e9ecef;--accent-color-1: #28a745;--accent-color-1-darker: #1e7e34;--accent-color-2: #17a2b8;--accent-color-2-darker: #117a8b;--success-color: #28a745;--warning-color: #ffc107;--danger-color: #dc3545;--info-color: #17a2b8;--text-color-light: #f8f9fa;--text-color-dark: #212529;--text-color-muted: #6c757d;--bg-light: #f8f9fa;--bg-white: #ffffff;--bg-dark-primary: #18191a;--bg-dark-secondary: #242526;--bg-dark-tertiary: #3a3b3c;--border-color-light: #dee2e6;--border-color-dark: #495057;--border-radius-sm: 4px;--border-radius-md: 8px;--border-radius-lg: 12px;--border-radius-pill: 50px;--border-radius-circle: 50%;--font-primary: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";--font-secondary: "Merriweather Sans", sans-serif;--font-size-base: 16px;--font-size-sm: .875rem;--font-size-lg: 1.25rem;--font-weight-light: 300;--font-weight-normal: 400;--font-weight-medium: 500;--font-weight-bold: 700;--spacing-xs: .25rem;--spacing-sm: .5rem;--spacing-md: 1rem;--spacing-lg: 1.5rem;--spacing-xl: 2rem;--spacing-xxl: 3rem;--shadow-sm: 0 1px 3px rgba(0, 0, 0, .05), 0 1px 2px rgba(0, 0, 0, .03);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .07), 0 2px 4px -1px rgba(0, 0, 0, .04);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .07), 0 4px 6px -2px rgba(0, 0, 0, .03);--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, .07), 0 10px 10px -5px rgba(0, 0, 0, .02);--transition-fast: .2s ease-in-out;--transition-normal: .3s ease-in-out;--z-index-modal-backdrop: 1000;--z-index-modal-content: 1001;--z-index-sidebar: 100;--z-index-header: 200}body{font-family:var(--font-primary);font-size:var(--font-size-base);line-height:1.6;background-color:var(--bg-light);color:var(--text-color-dark);margin:0;display:flex;height:100vh;overflow:hidden;transition:background-color var(--transition-normal),color var(--transition-normal)}h1,h2,h3,h4,h5,h6{font-family:var(--font-secondary);font-weight:var(--font-weight-bold);margin-bottom:var(--spacing-md);line-height:1.3;align-items:center}h1{font-size:2.25rem}h2{font-size:1.75rem}h3{font-size:1.375rem}h4{font-size:1.125rem}p{margin-bottom:var(--spacing-md)}a{color:var(--primary-color);text-decoration:none;transition:color var(--transition-fast)}a:hover{color:var(--primary-color-darker);text-decoration:underline}ul,ol{padding-left:var(--spacing-lg)}.text-center{text-align:center}.text-muted{color:var(--text-color-muted)}.mb-0{margin-bottom:0!important}.mt-0{margin-top:0!important}.styled-scrollbar::-webkit-scrollbar{width:8px;height:8px}.styled-scrollbar::-webkit-scrollbar-track{background:var(--bg-light);border-radius:var(--border-radius-pill)}.styled-scrollbar::-webkit-scrollbar-thumb{background-color:var(--secondary-color-lighter);border-radius:var(--border-radius-pill);border:2px solid var(--bg-light)}.styled-scrollbar::-webkit-scrollbar-thumb:hover{background-color:var(--secondary-color)}body.dark-mode .styled-scrollbar::-webkit-scrollbar-track{background:var(--bg-dark-secondary)}body.dark-mode .styled-scrollbar::-webkit-scrollbar-thumb{background-color:var(--bg-dark-tertiary);border:2px solid var(--bg-dark-secondary)}body.dark-mode .styled-scrollbar::-webkit-scrollbar-thumb:hover{background-color:var(--secondary-color)}.loading-message,.empty-list-msg{text-align:center;padding:var(--spacing-xl) var(--spacing-md);font-size:1.05em;color:var(--text-color-muted);font-style:italic}.lang-flag{border-radius:var(--border-radius-sm);border:1px solid var(--border-color-light);vertical-align:middle;object-fit:cover}.lang-flag-xs{width:16px;height:auto}.lang-flag-sm{width:20px;height:auto}.lang-flag-md{width:24px;height:auto}.lang-flag-lg{width:32px;height:auto}.chat-message-ui.system-message{text-align:center;font-style:italic;color:var(--text-muted-color, #888);font-size:.9em;padding:5px 10px;margin:8px auto;max-width:80%;border-radius:10px;background-color:var(--background-alt-color, #f0f0f0)}.chat-message-ui.system-message.error{color:var(--danger-color, red);background-color:var(--danger-background-color, #ffe0e0);font-weight:700}#polyglot-connect-app-shell{display:flex;height:100vh;width:100vw;background-color:var(--bg-light);transition:background-color var(--transition-normal)}#left-sidebar{width:250px;background-color:#2c3e50;color:#ecf0f1;display:flex;flex-direction:column;box-shadow:2px 0 8px #0000001a;z-index:var(--z-index-sidebar);transition:background-color var(--transition-normal),width var(--transition-normal);flex-shrink:0}.sidebar-header{padding:var(--spacing-lg) var(--spacing-md);text-align:center;border-bottom:1px solid #34495e}.sidebar-logo{width:50px;height:50px;border-radius:var(--border-radius-circle);margin-bottom:var(--spacing-sm);background-color:var(--bg-white);padding:2px}.sidebar-title-text{font-size:1.3em;font-weight:var(--font-weight-bold);color:var(--text-color-light);margin:0}.main-nav{flex-grow:1;overflow-y:auto}.main-nav ul{list-style:none;padding:var(--spacing-sm) 0;margin:0}.main-nav .nav-item a{display:flex;align-items:center;padding:var(--spacing-md) var(--spacing-lg);color:#bdc3c7;text-decoration:none;font-size:1em;font-weight:var(--font-weight-medium);transition:background-color var(--transition-fast),color var(--transition-fast);border-left:3px solid transparent}.main-nav .nav-item a i{margin-right:var(--spacing-md);width:20px;text-align:center;font-size:1.1em}.main-nav .nav-item a:hover{background-color:#34495e;color:var(--text-color-light)}.main-nav .nav-item.active a{background-color:var(--primary-color);color:var(--text-color-light);border-left-color:var(--accent-color-2)}.sidebar-footer{padding:var(--spacing-md);text-align:center;border-top:1px solid #34495e;flex-shrink:0}.copyright-text{font-size:.8em;color:#7f8c8d;margin:0}#main-container{flex-grow:1;background-color:var(--bg-light);padding:var(--spacing-lg);overflow-y:auto;display:flex;flex-direction:column}.view{display:none;flex-direction:column;width:100%;height:100%;animation:fadeInView .3s ease-out forwards}@keyframes fadeInView{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.view.active-view{display:flex}.view-header{margin-bottom:var(--spacing-lg);padding-bottom:var(--spacing-md);border-bottom:1px solid var(--border-color-light)}.view-header h1{font-size:1.8em;font-weight:var(--font-weight-bold);color:var(--text-color-dark);margin:0 0 var(--spacing-xs) 0}.view-header p{font-size:1em;color:var(--text-color-muted);margin:0}.view-content{flex-grow:1}.messages-view-flex-container{display:flex;flex-direction:column;height:100%}.tips-panel{background-color:var(--bg-white);padding:var(--spacing-lg);border-radius:var(--border-radius-md);box-shadow:var(--shadow-md)}.tips-panel h3{margin-top:0;color:var(--primary-color);display:flex;align-items:center;font-size:1.2em}.tips-panel h3 i{margin-right:var(--spacing-sm)}#homepage-tips-list{list-style:none;padding-left:0}#homepage-tips-list li{padding:var(--spacing-sm) 0;border-bottom:1px dashed var(--border-color-light);font-size:.95em}#homepage-tips-list li:last-child{border-bottom:none}#right-sidebar{width:400px;background-color:var(--bg-white);padding:var(--spacing-lg);border-left:1px solid var(--border-color-light);overflow-y:auto;display:flex;flex-direction:column;flex-shrink:0;transition:background-color var(--transition-normal),border-color var(--transition-normal)}.sidebar-panel{display:none;margin-bottom:var(--spacing-lg)}.sidebar-panel:last-child{margin-bottom:0}.sidebar-panel.active-panel{display:block;animation:fadeInView .3s ease-out}.sidebar-panel h4{font-size:1.15em;font-weight:var(--font-weight-bold);color:var(--text-color-dark);margin:0 0 var(--spacing-md) 0;padding-bottom:var(--spacing-sm);border-bottom:1px solid var(--border-color-light);display:flex;align-items:center}.sidebar-panel h4 i{margin-right:var(--spacing-sm);color:var(--primary-color);font-size:.9em}.filter-group{margin-bottom:var(--spacing-md)}.filter-group label{display:block;font-size:.85em;font-weight:var(--font-weight-medium);margin-bottom:var(--spacing-xs);color:var(--text-color-muted)}.styled-select,.filter-group select,.filter-group input[type=text]{width:100%;padding:var(--spacing-sm) var(--spacing-md);border:1px solid var(--border-color-light);border-radius:var(--border-radius-sm);font-size:.9em;box-sizing:border-box;background-color:var(--bg-white);color:var(--text-color-dark);transition:border-color var(--transition-fast),box-shadow var(--transition-fast)}.styled-select:focus,.filter-group select:focus,.filter-group input[type=text]:focus{border-color:var(--primary-color);outline:none;box-shadow:0 0 0 2px #007bff33}.sidebar-list li .chat-list-item,.sidebar-list li .summary-list-item{display:flex;align-items:center;padding:var(--spacing-sm) var(--spacing-xs);text-decoration:none;color:var(--text-color-dark);border-radius:var(--border-radius-sm);transition:background-color var(--transition-fast);margin-bottom:var(--spacing-xs);cursor:pointer;border:1px solid transparent}.sidebar-list li .chat-list-item:hover,.sidebar-list li .summary-list-item:hover{background-color:var(--primary-color-lighter);border-color:var(--primary-color)}.sidebar-list li.active-chat-item .chat-list-item{background-color:var(--primary-color);color:var(--text-color-light);font-weight:var(--font-weight-medium)}.chat-list-item-avatar{width:32px;height:32px;border-radius:var(--border-radius-circle);margin-right:var(--spacing-sm);object-fit:cover;background-color:var(--secondary-color-lighter)}.chat-list-item-name{flex-grow:1;font-size:.9em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chat-list-item-status{width:8px;height:8px;border-radius:var(--border-radius-circle);background-color:var(--secondary-color);margin-left:var(--spacing-sm);flex-shrink:0}@media (max-width: 1024px){#left-sidebar{width:200px}.main-nav .nav-item a{padding:var(--spacing-md) var(--spacing-md)}.main-nav .nav-item a i{margin-right:var(--spacing-sm)}.main-nav .nav-item a span{display:none}#main-container{padding:var(--spacing-md)}#right-sidebar{width:320px;padding:var(--spacing-md)}.view-header h1{font-size:1.6em}}@media (max-width: 768px){body{overflow:auto}#polyglot-connect-app-shell{flex-direction:column;height:auto;min-height:100vh}#left-sidebar{width:100%;height:50px;flex-direction:row;justify-content:space-between;align-items:center;padding:0 var(--spacing-sm);box-shadow:0 2px 5px #0000001a;position:fixed;top:0;left:0;z-index:var(--z-index-header)}.sidebar-header{padding:0;border-bottom:none;margin-bottom:0;display:flex;align-items:center}.sidebar-logo{width:30px;height:30px;margin-right:var(--spacing-sm);margin-bottom:0}.sidebar-title-text{display:none}.main-nav ul{display:flex;padding:0}.main-nav .nav-item a{padding:0 var(--spacing-sm);height:50px;border-left:none;border-bottom:3px solid transparent}.main-nav .nav-item.active a{border-bottom-color:var(--accent-color-2);background-color:transparent}.main-nav .nav-item a span{display:none}.main-nav .nav-item a i{margin-right:0;font-size:1.2em}.sidebar-footer{display:none}.theme-toggle-btn{margin:0 0 0 var(--spacing-md);width:36px;height:36px;border-color:#bdc3c7;color:#bdc3c7}body.dark-mode .theme-toggle-btn{border-color:#7f8c8d;color:#7f8c8d}#main-container{padding:var(--spacing-md);margin-top:50px;height:auto;overflow-y:visible}.view-header h1{font-size:1.5em}#right-sidebar{width:100%;border-left:none;border-top:1px solid var(--border-color-light);padding:var(--spacing-md);height:auto;order:3}}.connector-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:var(--spacing-lg);padding:var(--spacing-xs) 0}@media (max-width: 900px){.connector-grid{grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:var(--spacing-md)}}@media (max-width: 600px){.connector-grid{grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:var(--spacing-md)}}@media (max-width: 400px){.connector-grid{grid-template-columns:1fr;gap:var(--spacing-md)}}.modal-btn,.action-btn,.control-btn,.sidebar-action-btn,.send-btn{display:inline-flex;align-items:center;justify-content:center;padding:var(--spacing-sm) var(--spacing-md);font-size:.95em;font-weight:var(--font-weight-medium);border-radius:var(--border-radius-md);border:1px solid transparent;cursor:pointer;text-align:center;transition:background-color var(--transition-fast),color var(--transition-fast),border-color var(--transition-fast),box-shadow var(--transition-fast);line-height:1.4}.modal-btn:disabled,.action-btn:disabled,.control-btn:disabled,.sidebar-action-btn:disabled,.send-btn:disabled{opacity:.65;cursor:not-allowed}.modal-btn i,.action-btn i,.control-btn i,.sidebar-action-btn i,.send-btn i{margin-right:var(--spacing-xs)}.modal-btn:focus-visible,.action-btn:focus-visible,.control-btn:focus-visible,.sidebar-action-btn:focus-visible,.send-btn:focus-visible{outline:2px solid var(--primary-color);outline-offset:2px}body.dark-mode .modal-btn:focus-visible,body.dark-mode .action-btn:focus-visible,body.dark-mode .control-btn:focus-visible,body.dark-mode .sidebar-action-btn:focus-visible,body.dark-mode .send-btn:focus-visible{outline-color:var(--primary-color-lighter)}.primary-btn{background-color:var(--primary-color);color:var(--text-color-light);border-color:var(--primary-color)}.primary-btn:hover{background-color:var(--primary-color-darker);border-color:var(--primary-color-darker)}.secondary-btn{background-color:var(--secondary-color);color:var(--text-color-light);border-color:var(--secondary-color)}.secondary-btn:hover{background-color:var(--secondary-color-darker);border-color:var(--secondary-color-darker)}.accent-btn-1{background-color:var(--accent-color-1);color:var(--text-color-light);border-color:var(--accent-color-1)}.accent-btn-1:hover{background-color:var(--accent-color-1-darker);border-color:var(--accent-color-1-darker)}.accent-btn-2{background-color:var(--accent-color-2);color:var(--text-color-light);border-color:var(--accent-color-2)}.accent-btn-2:hover{background-color:var(--accent-color-2-darker);border-color:var(--accent-color-2-darker)}.cancel-btn,.danger-btn{background-color:var(--danger-color);color:var(--text-color-light);border-color:var(--danger-color)}.cancel-btn:hover,.danger-btn:hover{background-color:#c82333;border-color:#c82333}.outline-btn{background-color:transparent;color:var(--primary-color);border-color:var(--primary-color)}.outline-btn:hover{background-color:var(--primary-color);color:var(--text-color-light)}body.dark-mode .outline-btn{color:var(--primary-color-lighter);border-color:var(--primary-color-lighter)}body.dark-mode .outline-btn:hover{background-color:var(--primary-color-lighter);color:var(--text-color-dark)}.tts-toggle-btn{background:none;border:none;font-size:1.3em;color:var(--primary-color);padding:var(--spacing-xs)}.tts-toggle-btn:hover{color:var(--primary-color-darker)}.tts-toggle-btn .fa-volume-mute{color:var(--text-color-muted)}body.dark-mode .tts-toggle-btn{color:var(--primary-color-lighter)}body.dark-mode .tts-toggle-btn:hover{color:#79c0ff}body.dark-mode .tts-toggle-btn .fa-volume-mute{color:#888}.end-call-button{background-color:var(--secondary-color);color:var(--text-color-light);padding:var(--spacing-xs) var(--spacing-sm);font-size:.9em}.end-call-button:hover{background-color:var(--secondary-color-darker)}.end-call-button.danger{background-color:var(--danger-color)}.end-call-button.danger:hover{background-color:#c82333}.attach-btn{font-size:1.2em;color:var(--secondary-color-darker);padding:var(--spacing-sm)}.attach-btn:hover{color:var(--primary-color)}body.dark-mode .attach-btn{color:#a0a3a8}body.dark-mode .attach-btn:hover{color:var(--primary-color-lighter)}.theme-toggle-btn{background:none;border:1px solid var(--text-color-muted);color:var(--text-color-muted);border-radius:var(--border-radius-circle);width:36px;height:36px;font-size:1em;margin-bottom:var(--spacing-sm)}.theme-toggle-btn:hover{color:var(--text-color-light);border-color:var(--text-color-light);background-color:#ffffff1a}body.dark-mode .theme-toggle-btn{color:#8a8d91;border-color:#8a8d91}body.dark-mode .theme-toggle-btn:hover{color:var(--text-color-light);border-color:var(--text-color-light);background-color:#0003}.mic-btn.recording{background-color:var(--danger-color);color:#fff}.mic-btn.recording:hover{background-color:#c82333}.chat-message-ui.user-audio,.chat-message-ui.user-thinking,.chat-message-ui.user-error{font-style:italic;opacity:.8}.connector-card{background-color:var(--bg-white);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-md);overflow:hidden;display:flex;flex-direction:column;transition:transform var(--transition-fast),box-shadow var(--transition-fast);position:relative;width:300px;height:400px;margin:0 auto}.connector-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg)}.connector-card-bg{height:100px;background:linear-gradient(135deg,var(--primary-color-lighter) 0%,var(--accent-color-2) 100%);border-bottom:1px solid var(--border-color-light)}.connector-avatar{width:90px;height:90px;border-radius:var(--border-radius-circle);border:3px solid var(--bg-white);margin:-45px auto 0;display:block;position:relative;z-index:1;background-color:var(--secondary-color-lighter);box-shadow:var(--shadow-sm);object-fit:cover}.connector-status{width:14px;height:14px;border-radius:var(--border-radius-circle);background-color:var(--secondary-color);border:2px solid var(--bg-white);position:absolute;top:55px;left:calc(50% + 25px);z-index:2;box-shadow:0 1px 2px #0003;transition:background-color var(--transition-fast)}.connector-status.active{background-color:var(--success-color)}.connector-name{font-family:var(--font-secondary);font-size:1.3em;font-weight:var(--font-weight-bold);text-align:center;margin:var(--spacing-md) var(--spacing-md) var(--spacing-xs) var(--spacing-md);color:var(--text-color-dark)}.connector-bio{font-size:.85em;text-align:center;color:var(--text-color-muted);padding:0 var(--spacing-md);margin-bottom:var(--spacing-md);flex-grow:1;line-height:1.5}.connector-actions{padding:var(--spacing-md);border-top:1px solid var(--border-color-light);display:flex;justify-content:center;background-color:var(--bg-light)}.connector-actions .view-profile-btn{padding:var(--spacing-sm) var(--spacing-md);font-size:.9em;background-color:var(--primary-color);color:var(--text-color-light)}.connector-actions .view-profile-btn:hover{background-color:var(--primary-color-darker)}.connector-languages{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;gap:var(--spacing-xs);margin-bottom:var(--spacing-md);padding:0 var(--spacing-sm)}.language-tag{display:inline-flex;align-items:center;justify-content:center;gap:var(--spacing-xs);padding:.2rem .6rem;border-radius:12px;font-size:.75em;font-weight:600;text-transform:uppercase;letter-spacing:.4px;white-space:nowrap;box-shadow:0 1px 2px #00000026}.language-tag.native{background-color:var(--primary-color-lighter);color:var(--text-color-dark);border:1px solid var(--primary-color-dark)}.language-tag.practice{background-color:var(--secondary-color-lighter);color:var(--text-color-dark);border:1px solid var(--secondary-color-dark)}.language-tag .lang-flag{width:16px;height:auto;border-radius:2px;border:1px solid var(--border-color-light);box-shadow:0 1px 2px #00000026;vertical-align:middle}.language-tag .level-indicator{font-size:.7em;font-weight:500;opacity:.8}body.dark-mode .language-tag.native{background-color:var(--primary-color-dark);color:var(--text-color-light);border-color:var(--primary-color-lighter)}body.dark-mode .language-tag.practice{background-color:var(--secondary-color-dark);color:var(--text-color-light);border-color:var(--secondary-color-lighter)}body.dark-mode .language-tag .lang-flag{border-color:var(--border-color-dark)}.chat-log-area{display:flex;flex-direction:column;gap:var(--spacing-xs);padding:var(--spacing-md);overflow-y:auto;scroll-padding-bottom:10px;transition:scroll-padding-bottom .2s ease-in-out;background-color:var(--bg-white)}.chat-message-wrapper{display:flex;align-items:flex-end;max-width:80%;width:fit-content;position:relative;margin-bottom:var(--spacing-xxs)}.chat-message-wrapper.user-wrapper{align-self:flex-end;flex-direction:row-reverse}.chat-message-wrapper.connector-wrapper{align-self:flex-start;flex-direction:row}.chat-bubble-avatar{width:30px;height:30px;border-radius:50%;object-fit:cover;flex-shrink:0}.chat-message-wrapper.has-avatar-left .chat-bubble-avatar{margin-right:8px}.chat-message-wrapper.has-avatar-right .chat-bubble-avatar{margin-left:8px}.chat-message-ui{padding:10px 14px;border-radius:18px;line-height:1.45;word-wrap:break-word;overflow-wrap:break-word;min-width:40px;box-shadow:var(--shadow-xs)}.chat-message-wrapper.user-wrapper .chat-message-ui{background-color:var(--primary-color);color:var(--text-color-on-primary, white);border-bottom-right-radius:6px}.chat-message-wrapper.connector-wrapper .chat-message-ui{background-color:var(--background-alt-color);color:var(--text-color);border-bottom-left-radius:6px}.chat-message-wrapper.connector-wrapper .chat-message-ui.tutor{background-color:var(--secondary-color-lighter, #e0f2fe)}.chat-message-sender-name{font-weight:var(--font-weight-semibold);font-size:.8em;display:block;margin-bottom:-13px;color:var(--text-muted-color)}.chat-message-wrapper.connector-wrapper .chat-message-sender-name{color:var(--primary-color-dark, #0056b3)}.chat-message-wrapper.connector-wrapper .chat-message-ui.tutor .chat-message-sender-name{color:var(--secondary-color-dark, #0c5464)}.chat-message-ui.connector-thinking{color:var(--text-muted-color);font-style:italic;background-color:var(--background-alt-color-subtle, #f8f9fa)}.chat-message-ui.connector-thinking:after{content:".";display:inline-block;animation:ellipsis-animation 1.4s infinite;animation-timing-function:steps(3,end);position:relative;left:1px}@keyframes ellipsis-animation{0%{content:"."}33%{content:".."}66%{content:"..."}}.chat-message-image{display:block;max-width:100%;border-radius:10px;margin-top:6px}.chat-message-wrapper.system-message-wrapper{align-self:center;max-width:90%;width:auto;justify-content:center}.chat-message-ui.system-message{background-color:transparent;color:var(--text-muted-color);text-align:center;font-style:italic;font-size:.9em;padding:4px 0;box-shadow:none}.chat-message-ui.system-message.error{color:var(--danger-color);font-weight:var(--font-weight-medium);background-color:transparent}body.dark-mode .chat-log-area{background-color:var(--bg-dark-primary)}body.dark-mode .chat-message-wrapper.user-wrapper .chat-message-ui{background-color:var(--primary-color-dark)}body.dark-mode .chat-message-wrapper.connector-wrapper .chat-message-ui{background-color:var(--bg-dark-tertiary)}body.dark-mode .chat-message-wrapper.connector-wrapper .chat-message-ui.tutor{background-color:var(--secondary-color-darker, #1e4258)}body.dark-mode .chat-message-sender-name{color:var(--text-muted-color-dark, #909090)}body.dark-mode .chat-message-wrapper.connector-wrapper .chat-message-sender-name{color:var(--primary-color-lighter, #79c0ff)}body.dark-mode .chat-message-wrapper.connector-wrapper .chat-message-ui.tutor .chat-message-sender-name{color:var(--secondary-color-lighter, #86d0fb)}body.dark-mode .chat-message-ui.connector-thinking{background-color:var(--bg-dark-hover, #3a3a3a);color:var(--text-muted-color-dark, #888)}body.dark-mode .chat-message-ui.system-message{background-color:transparent;color:var(--text-muted-color-dark, #909090)}body.dark-mode .chat-message-ui.system-message.error{color:var(--danger-color-light, #ff8080)}.sidebar-list{list-style:none;padding:0;margin:0}.sidebar-list li{margin-bottom:var(--spacing-xs)}.list-item-base{display:flex;align-items:center;padding:var(--spacing-sm) var(--spacing-xs);text-decoration:none;color:var(--text-color-dark);border-radius:var(--border-radius-sm);transition:background-color var(--transition-fast),border-color var(--transition-fast);cursor:pointer;border:1px solid transparent;background-color:var(--bg-light)}.list-item-base:hover{background-color:var(--primary-color-lighter);border-color:var(--primary-color)}body.dark-mode .list-item-base{color:var(--text-color-light);background-color:var(--bg-dark-tertiary)}body.dark-mode .list-item-base:hover{background-color:#4a4b4d;border-color:var(--primary-color)}.list-item-avatar{width:36px;height:36px;border-radius:var(--border-radius-circle);margin-right:var(--spacing-sm);object-fit:cover;background-color:var(--secondary-color-lighter);border:1px solid var(--border-color-light)}body.dark-mode .list-item-avatar{background-color:#555;border-color:var(--border-color-dark)}.list-item-info{flex-grow:1;overflow:hidden}.list-item-name{font-size:.9em;font-weight:var(--font-weight-medium);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;margin-bottom:2px}.list-item-subtext{font-size:.75em;color:var(--text-color-muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}body.dark-mode .list-item-subtext{color:#a0a3a8}.list-item-timestamp{font-size:.75em;color:var(--text-color-secondary);margin-left:var(--spacing-sm);white-space:nowrap}.chat-list-item-status{width:10px;height:10px;border-radius:var(--border-radius-circle);background-color:var(--secondary-color);margin-left:var(--spacing-sm);flex-shrink:0;border:2px solid var(--bg-white)}.chat-list-item-status.active{background-color:var(--success-color)}body.dark-mode .chat-list-item-status{background-color:#666;border-color:var(--bg-dark-tertiary)}body.dark-mode .chat-list-item-status.active{background-color:#32cd32}.available-groups-list .group-list-item{justify-content:space-between;padding:var(--spacing-md) var(--spacing-sm);border-bottom:1px solid var(--border-color-light);background-color:var(--bg-white)}.available-groups-list .group-list-item:last-child{border-bottom:none}.group-list-item .list-item-info{display:flex;align-items:center}.group-list-item .lang-flag{width:20px;height:auto;margin-right:var(--spacing-sm);border-radius:2px}.group-list-item .list-item-name{font-weight:var(--font-weight-bold);margin-bottom:0}.group-list-item .list-item-subtext{font-size:.8em;margin-left:calc(20px + var(--spacing-sm));display:block}.list-item-action-indicator{color:var(--text-color-muted);font-size:.9em}body.dark-mode .available-groups-list .group-list-item{background-color:var(--bg-dark-secondary);border-bottom-color:var(--border-color-dark)}body.dark-mode .available-groups-list .group-list-item:hover{background-color:var(--bg-dark-tertiary)}body.dark-mode .list-item-action-indicator{color:#a0a3a8}.available-groups-list{list-style:none;padding:0;margin:0}.group-list-item{display:flex;align-items:center;padding:var(--spacing-md) var(--spacing-lg);margin-bottom:var(--spacing-sm);background-color:var(--bg-white);border-radius:var(--border-radius-md);box-shadow:var(--shadow-sm);transition:background-color var(--transition-fast),transform var(--transition-fast),box-shadow var(--transition-fast);cursor:pointer;border:1px solid var(--border-color-light)}.group-list-item:hover{background-color:var(--primary-color-lighter);transform:translateY(-2px);box-shadow:var(--shadow-md);border-color:var(--primary-color)}.group-list-item-flag-container{flex-shrink:0;display:flex;align-items:center;margin-right:var(--spacing-md)}.group-list-item-flag-container img{display:block;width:20px;height:auto;object-fit:contain}@media (max-width: 768px){.group-list-item-flag-container img{width:16px}}.group-list-item-details{flex-grow:1;overflow:hidden}.group-list-item .list-item-name{font-family:var(--font-secondary);font-size:1.1em;font-weight:var(--font-weight-bold);color:var(--text-color-dark);margin-bottom:var(--spacing-xs);white-space:normal}.group-list-item .list-item-subtext{font-size:.85em;color:var(--text-color-muted);line-height:1.4;white-space:normal}.group-list-item .list-item-action-indicator{margin-left:auto;padding-left:var(--spacing-md);font-size:1.2em;color:var(--primary-color);opacity:.7;transition:opacity var(--transition-fast)}.group-list-item:hover .list-item-action-indicator{opacity:1}body.dark-mode .group-list-item{background-color:var(--bg-dark-secondary);border-color:var(--border-color-dark);box-shadow:0 2px 4px #0003}body.dark-mode .group-list-item:hover{background-color:var(--bg-dark-tertiary);border-color:var(--primary-color);box-shadow:0 4px 8px #00000040}body.dark-mode .group-list-item .lang-flag{border-color:var(--bg-dark-tertiary)}body.dark-mode .group-list-item .list-item-name{color:var(--text-color-light)}body.dark-mode .group-list-item .list-item-subtext{color:#b0b3b8}body.dark-mode .group-list-item .list-item-action-indicator{color:var(--primary-color-lighter)}.lang-flag{display:block;border-radius:var(--border-radius-sm);border:1px solid var(--border-color-light);margin-right:var(--spacing-xs);vertical-align:middle}body.dark-mode .lang-flag{border-color:var(--border-color-dark)}#message-modal-header-name{font-size:1.1em;font-weight:500;margin:0;line-height:1.2}.chat-header-sub-details{font-size:.8em;color:var(--text-color-secondary);margin:0;line-height:1.2}.chat-header-actions{display:flex;align-items:center;gap:var(--spacing-sm)}.chat-header-actions .control-btn{padding:var(--spacing-xs);font-size:1.1em;background-color:transparent;border:none;color:var(--text-color-primary)}.chat-header-actions .control-btn:hover{background-color:var(--bg-hover-light);color:var(--primary-color)}.list-item-timestamp{font-size:.75em;color:var(--text-color-secondary);margin-left:auto;padding-left:var(--spacing-sm);white-space:nowrap;flex-shrink:0}.list-item-name-line{display:flex;justify-content:space-between;align-items:center;width:100%}.list-item-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-grow:1}.list-item-subtext{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:.85em;color:var(--text-color-secondary);padding-right:var(--spacing-sm)}.group-discovery-list-item{display:flex;align-items:center;padding:var(--spacing-md);border-bottom:1px solid var(--border-color-light);cursor:default;transition:background-color var(--transition-fast)}.group-discovery-list-item:hover{background-color:var(--bg-hover-light)}.group-discovery-list-item .lang-flag-sm{width:32px;height:24px;margin-right:var(--spacing-md);border-radius:var(--border-radius-sm);object-fit:cover;flex-shrink:0}.group-discovery-list-item .list-item-info{flex-grow:1;min-width:0}.group-discovery-list-item .list-item-name{font-weight:var(--font-weight-medium);display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:var(--spacing-xxs)}.group-discovery-list-item .list-item-subtext{font-size:.85em;color:var(--text-color-secondary);display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.join-group-btn-list{margin-left:var(--spacing-md);flex-shrink:0;padding:var(--spacing-xs) var(--spacing-sm)}body.dark-mode .group-discovery-list-item{border-bottom-color:var(--border-color-dark)}body.dark-mode .group-discovery-list-item:hover{background-color:var(--bg-hover-dark)}body.dark-mode .group-discovery-list-item .group-avatar-icon{background-color:var(--bg-dark-tertiary);color:var(--primary-color-lighter)}.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000bf;display:flex;justify-content:center;align-items:center;z-index:var(--z-index-modal-backdrop);opacity:0;visibility:hidden;transition:opacity var(--transition-normal),visibility 0s linear var(--transition-normal);padding:var(--spacing-md);box-sizing:border-box;overflow-y:auto}.modal-overlay.active{opacity:1;visibility:visible;transition:opacity var(--transition-normal)}.modal-content{background-color:var(--bg-white);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-xl);width:100%;text-align:center;position:relative;display:flex;flex-direction:column;max-height:90vh;overflow:hidden}.modal-header{display:flex;align-items:center;padding:var(--spacing-md) var(--spacing-lg);background-color:var(--bg-light);border-bottom:1px solid var(--border-color-light);width:100%;box-sizing:border-box;flex-shrink:0}.modal-header .modal-title-inline{font-size:1.25em;font-weight:var(--font-weight-bold);color:var(--text-color-dark);margin:0;flex-grow:1;text-align:left}.modal-avatar-small{width:40px;height:40px;border-radius:var(--border-radius-circle);margin-right:var(--spacing-md);object-fit:cover}.modal-controls{display:flex;align-items:center;gap:var(--spacing-sm)}.modal-body{flex-grow:1;overflow-y:auto;padding:var(--spacing-lg)}.modal-footer{display:flex;align-items:center;padding:var(--spacing-md) var(--spacing-lg);border-top:1px solid var(--border-color-light);background-color:var(--bg-light);width:100%;box-sizing:border-box;flex-shrink:0}.calling-modal{max-width:400px;padding:var(--spacing-xl);align-items:center}.calling-avatar-large{width:120px;height:120px;border-radius:var(--border-radius-circle);margin-bottom:var(--spacing-lg);border:4px solid var(--border-color-light);box-shadow:var(--shadow-md);object-fit:cover}.calling-modal .modal-title{font-size:1.8em;font-weight:var(--font-weight-bold);color:var(--text-color-dark);margin-bottom:var(--spacing-xs)}.calling-modal .modal-subtitle{font-size:1.1em;color:var(--text-color-muted);margin-bottom:var(--spacing-lg)}.calling-animation{display:flex;justify-content:center;align-items:center;margin-bottom:var(--spacing-xl)}.calling-dot{width:12px;height:12px;background-color:var(--primary-color);border-radius:var(--border-radius-circle);margin:0 var(--spacing-xs);animation:calling-pulse 1.4s infinite ease-in-out both}.calling-dot:nth-child(1){animation-delay:-.32s}.calling-dot:nth-child(2){animation-delay:-.16s}@keyframes calling-pulse{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.call-interface-modal{max-width:650px;height:clamp(450px,80vh,700px);padding:0}.call-chat-log{background-color:var(--bg-white)}.call-interface-footer .chat-input-field{flex-grow:1;margin-right:var(--spacing-sm)}.tap-to-speak-btn{background-color:var(--success-color);color:var(--text-color-light);width:48px;height:48px;border-radius:var(--border-radius-circle);font-size:1.3em}.tap-to-speak-btn.listening{background-color:var(--warning-color);color:var(--text-color-dark)}.tap-to-speak-btn.processing{background-color:var(--info-color);animation:pulse-processing 1.5s infinite ease-in-out}@keyframes pulse-processing{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.direct-call-modal{max-width:380px;min-height:480px;height:auto;padding:0;justify-content:space-between;background-color:var(--bg-dark-secondary);color:var(--text-color-light)}.direct-call-header{flex-direction:column;padding-top:var(--spacing-xl);padding-bottom:var(--spacing-lg);border-bottom:none;background:transparent;text-align:center}.direct-call-avatar-main{width:100px;height:100px;border-radius:var(--border-radius-circle);margin-bottom:var(--spacing-md);border:3px solid rgba(255,255,255,.2);object-fit:cover}.direct-call-header .modal-title-inline{font-size:1.6em;margin-bottom:var(--spacing-xs);color:var(--text-color-light)}.direct-call-header .modal-subtitle{font-size:.95em;opacity:.8;min-height:1.3em;color:var(--text-color-light);transition:color var(--transition-fast)}.direct-call-main-content{flex-grow:1;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:var(--spacing-lg);text-align:center}.direct-call-footer{justify-content:space-evenly;background:transparent;padding:var(--spacing-md);border-top:1px solid rgba(255,255,255,.1)}.direct-call-action-btn{background-color:#ffffff1a;color:var(--text-color-light);width:50px;height:50px;border-radius:var(--border-radius-circle);font-size:1.2em;border:1px solid rgba(255,255,255,.15)}.direct-call-action-btn:hover{background-color:#fff3}.direct-call-action-btn.mic-active{background-color:var(--success-color);color:#fff}.direct-call-action-btn .fa-microphone-slash,.direct-call-action-btn .fa-volume-mute{color:var(--warning-color)}.direct-call-end-button{background-color:var(--danger-color);color:#fff;width:60px;height:60px;border-radius:var(--border-radius-circle);font-size:1.6em}.direct-call-end-button:hover{background-color:#c82333}.activity-area-style{padding:var(--spacing-sm) var(--spacing-lg);background-color:var(--bg-light);text-align:center;flex-shrink:0;border-top:1px solid var(--border-color-light);border-bottom:1px solid var(--border-color-light);margin-top:-1px}.activity-area-style img{max-width:100%;max-height:150px;object-fit:contain;border-radius:var(--border-radius-md);margin:0 auto;display:block}body.dark-mode .modal-content{background-color:var(--bg-dark-secondary);color:var(--text-color-light)}body.dark-mode .modal-header,body.dark-mode .modal-footer{background-color:var(--bg-dark-tertiary);border-color:var(--border-color-dark)}body.dark-mode .modal-header .modal-title-inline,body.dark-mode .calling-modal .modal-title{color:var(--text-color-light)}body.dark-mode .calling-modal .modal-subtitle{color:#a0a3a8}body.dark-mode .calling-dot{background-color:var(--primary-color-lighter)}body.dark-mode .call-chat-log{background-color:var(--bg-dark-primary)}body.dark-mode .direct-call-modal{background-color:#202124}body.dark-mode .direct-call-action-btn{background-color:#ffffff14;border-color:#ffffff1a}body.dark-mode .direct-call-action-btn:hover{background-color:#ffffff26}body.dark-mode .activity-area-style{background-color:var(--bg-dark-tertiary);border-color:var(--border-color-dark)}.messaging-interface-modal{max-width:600px;height:clamp(400px,75vh,650px);padding:0;border-radius:var(--border-radius-lg);box-shadow:var(--shadow-lg);background-color:var(--bg-white);overflow:hidden}.messaging-interface-header{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-md);background-color:var(--bg-light-secondary);border-bottom:1px solid var(--border-light)}.messaging-interface-header .modal-title-inline{font-size:var(--font-size-lg);font-weight:var(--font-weight-bold);color:var(--text-primary)}.messaging-interface-header .modal-controls{display:flex;gap:var(--spacing-sm)}.messaging-interface-header .modal-btn{background-color:var(--bg-light-primary);color:var(--text-primary);border:none;border-radius:var(--border-radius-sm);padding:var(--spacing-sm) var(--spacing-md);cursor:pointer;transition:background-color .3s ease}.messaging-interface-header .modal-btn:hover{background-color:var(--bg-light-hover)}.message-chat-log{flex-grow:1;overflow-y:auto;padding:var(--spacing-md);background-color:var(--bg-white);border-bottom:1px solid var(--border-light);color:var(--text-primary);font-size:var(--font-size-md);line-height:var(--line-height-md)}.message-chat-log::-webkit-scrollbar{width:var(--scrollbar-width)}.message-chat-log::-webkit-scrollbar-thumb{background-color:var(--scrollbar-thumb);border-radius:var(--border-radius-sm)}.messaging-interface-footer{display:flex;align-items:center;padding:var(--spacing-md);background-color:var(--bg-light-secondary);border-top:1px solid var(--border-light)}.messaging-interface-footer .chat-input-field{flex-grow:1;margin-right:var(--spacing-sm);padding:var(--spacing-sm);border:1px solid var(--border-light);border-radius:var(--border-radius-sm);font-size:var(--font-size-md);color:var(--text-primary);background-color:var(--bg-white)}.messaging-interface-footer .chat-input-field:focus{outline:2px solid var(--focus-outline)}.messaging-interface-footer .send-btn{background-color:var(--bg-accent-primary);color:var(--text-white);border:none;border-radius:var(--border-radius-sm);padding:var(--spacing-sm) var(--spacing-md);cursor:pointer;transition:background-color .3s ease}.messaging-interface-footer .send-btn:hover{background-color:var(--bg-accent-hover)}body.dark-mode .messaging-interface-modal{background-color:var(--bg-dark-primary);box-shadow:var(--shadow-dark-lg)}body.dark-mode .messaging-interface-header{background-color:var(--bg-dark-secondary);border-bottom:1px solid var(--border-dark)}body.dark-mode .message-chat-log{background-color:var(--bg-dark-primary);color:var(--text-light)}body.dark-mode .messaging-interface-footer{background-color:var(--bg-dark-secondary);border-top:1px solid var(--border-dark)}body.dark-mode .messaging-interface-footer .chat-input-field{background-color:var(--bg-dark-primary);color:var(--text-light);border:1px solid var(--border-dark)}body.dark-mode .messaging-interface-footer .send-btn{background-color:var(--bg-accent-dark);color:var(--text-white)}body.dark-mode .messaging-interface-footer .send-btn:hover{background-color:var(--bg-accent-hover-dark)}#detailed-persona-modal .modal-content{max-width:550px;text-align:left;padding:0}.persona-modal-header{flex-direction:column;padding:var(--spacing-lg) var(--spacing-xl);text-align:center;border-top-left-radius:var(--border-radius-lg);border-top-right-radius:var(--border-radius-lg)}#persona-modal-avatar{width:100px;height:100px;border-radius:var(--border-radius-circle);border:4px solid var(--bg-white);box-shadow:var(--shadow-md);margin-bottom:var(--spacing-md);object-fit:cover;margin-left:auto;margin-right:auto}body.dark-mode #persona-modal-avatar{border-color:var(--bg-dark-tertiary)}#persona-modal-name{font-size:1.8em;font-weight:var(--font-weight-bold);color:var(--text-color-dark);margin:0 0 var(--spacing-xs) 0}#persona-modal-location-age{font-size:1em;color:var(--text-color-muted);margin-bottom:var(--spacing-sm)}.status-dot{display:inline-block;width:12px;height:12px;border-radius:var(--border-radius-circle);background-color:var(--secondary-color);margin-left:var(--spacing-xs);vertical-align:middle;border:2px solid var(--bg-white);box-shadow:0 0 3px #0003}.status-dot.active{background-color:var(--success-color)}body.dark-mode .status-dot{border-color:var(--bg-dark-secondary)}.persona-modal-body{padding:var(--spacing-lg) var(--spacing-xl)}.persona-section{margin-bottom:var(--spacing-lg)}.persona-section:last-child{margin-bottom:0}.persona-section h4{font-size:1.05em;font-weight:var(--font-weight-bold);color:var(--primary-color);margin:0 0 var(--spacing-sm) 0;padding-bottom:var(--spacing-xs);border-bottom:1px dashed var(--border-color-light);display:flex;align-items:center}.persona-section h4 i{margin-right:var(--spacing-sm);font-size:.9em;opacity:.8}.persona-section p,.persona-section ul.info-list{font-size:.9rem;color:var(--text-color-muted);line-height:1.6}.persona-section ul.info-list{list-style:none;padding-left:0}.persona-section ul.info-list li{margin-bottom:var(--spacing-xs);display:flex;align-items:center}@media (max-width: 480px){.language-items-container{grid-template-columns:1fr}}.language-items-container li{display:flex;align-items:center;justify-content:space-between;padding:4px 8px;background:var(--bg-light);border-radius:4px;border:1px solid var(--border-color-light)}.language-items-container li:hover{background:var(--bg-light-hover)}.language-item .lang-flag{width:20px;height:auto;margin-right:var(--spacing-xs);border-radius:2px;border:1px solid var(--border-color-light)}.language-item .level-tag{font-size:.75em;padding:2px 6px;border-radius:var(--border-radius-sm);margin-left:var(--spacing-sm);text-transform:capitalize}.level-tag.native{background-color:var(--primary-color);color:var(--text-color-light)}.level-tag.fluent{background-color:var(--success-color);color:var(--text-color-light)}.level-tag.learning{background-color:var(--warning-color);color:var(--text-color-dark)}.level-tag.beginner{background-color:var(--info-color);color:var(--text-color-light)}ul.tag-list{display:flex;flex-wrap:wrap;gap:var(--spacing-xs);padding-left:0;list-style:none}ul.tag-list li{background-color:var(--secondary-color-lighter);color:var(--secondary-color-darker);padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius-pill);font-size:.8em}.gallery-placeholder{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-lg);background-color:var(--bg-light);border-radius:var(--border-radius-md);color:var(--text-color-muted);text-align:center;border:1px dashed var(--border-color-light)}.gallery-placeholder i{font-size:2.5em;margin-bottom:var(--spacing-sm);opacity:.5}.persona-modal-actions{justify-content:space-around;gap:var(--spacing-sm);border-bottom-left-radius:var(--border-radius-lg);border-bottom-right-radius:var(--border-radius-lg)}.persona-modal-actions .action-btn{flex-grow:1}#persona-modal-start-voicechat-btn{background-color:var(--accent-color-1)}#persona-modal-start-voicechat-btn:hover{background-color:var(--accent-color-1-darker)}#persona-modal-start-directcall-btn{background-color:var(--accent-color-2)}#persona-modal-start-directcall-btn:hover{background-color:var(--accent-color-2-darker)}body.dark-mode .persona-modal-header{background-color:var(--bg-dark-tertiary);border-bottom-color:var(--border-color-dark)}body.dark-mode #persona-modal-name{color:var(--text-color-light)}body.dark-mode #persona-modal-location-age{color:#a0a3a8}body.dark-mode .status-dot{border-color:var(--bg-dark-tertiary)}body.dark-mode .persona-section h4{color:var(--primary-color-lighter);border-bottom-color:var(--border-color-dark)}body.dark-mode .persona-section p,body.dark-mode .persona-section ul.info-list{color:#b0b3b8}body.dark-mode ul.tag-list li{background-color:var(--bg-dark-tertiary);color:#ccc}body.dark-mode .gallery-placeholder{background-color:var(--bg-dark-tertiary);color:#888;border-color:var(--border-color-dark)}body.dark-mode .persona-modal-actions{background-color:var(--bg-dark-tertiary);border-top-color:var(--border-color-dark)}#persona-modal-languages{display:flex;flex-direction:column;gap:var(--spacing-md);padding:var(--spacing-sm)}#persona-modal-languages .language-item{display:flex;align-items:center;justify-content:space-between;padding:6px 12px;background-color:var(--bg-light);border-radius:var(--border-radius-sm);border:1px solid var(--border-color-light);transition:background-color var(--transition-fast)}#persona-modal-languages .language-item:hover{background-color:var(--bg-light-hover)}#persona-modal-languages .lang-flag{width:20px;height:auto;margin-right:var(--spacing-xs);border-radius:2px;border:1px solid var(--border-color-light);box-shadow:0 1px 2px #00000026}#persona-modal-languages .level-tag{font-size:.75em;padding:2px 6px;border-radius:var(--border-radius-sm);margin-left:var(--spacing-sm);text-transform:capitalize}.level-tag.native{background-color:var(--primary-color);color:var(--text-color-light);background-color:#2563eb;color:#fff}.level-tag.fluent{background-color:#22c55e;color:#fff}.level-tag.learning{background-color:#fde047;color:#222}.level-tag.beginner{background-color:#fff;color:#222}body.dark-mode #persona-modal-languages .language-item{background-color:var(--bg-dark-tertiary);border-color:var(--border-color-dark)}body.dark-mode #persona-modal-languages .language-item.native{background-color:var(--primary-color-dark);color:var(--text-color-light)}body.dark-mode #persona-modal-languages .language-item.practice{background-color:var(--secondary-color-dark);color:var(--text-color-light)}body.dark-mode #persona-modal-languages .lang-flag{border-color:var(--border-color-dark)}.recap-modal{max-width:650px;text-align:left;padding:0}.recap-modal .modal-title{text-align:center;font-size:1.8em;color:var(--primary-color);margin-bottom:var(--spacing-xs);padding-top:var(--spacing-lg)}.recap-modal .modal-subtitle{text-align:center;font-size:1.1em;color:var(--text-color-muted);margin-bottom:var(--spacing-lg);font-weight:var(--font-weight-medium)}.recap-body-content{padding:var(--spacing-md) var(--spacing-lg)}.recap-body-content p{font-size:.95em;color:var(--text-color-dark);margin-bottom:var(--spacing-xs)}.recap-body-content p strong{color:var(--text-color-dark);font-weight:var(--font-weight-medium)}.recap-section{margin-bottom:var(--spacing-lg);padding-bottom:var(--spacing-md);border-bottom:1px dashed var(--border-color-light)}.recap-section:last-child{border-bottom:none;margin-bottom:0}.recap-section h4{font-size:1.1em;color:var(--primary-color);margin-bottom:var(--spacing-sm);display:flex;align-items:center}.recap-section h4 i{margin-right:var(--spacing-sm);font-size:1.05em;opacity:.9}.recap-section ul{list-style:none;padding-left:var(--spacing-xs)}.recap-section ul li{font-size:.9em;color:var(--text-color-muted);margin-bottom:var(--spacing-xs);padding-left:var(--spacing-lg);position:relative}.recap-section ul li:before{content:"✓";color:var(--success-color);position:absolute;left:0;top:1px;font-weight:var(--font-weight-bold);font-size:1.1em}.simple-close-btn{position:absolute;top:var(--spacing-md);right:var(--spacing-md);background:none;border:none;font-size:1.8em;color:var(--text-color-muted);line-height:1;cursor:pointer;padding:var(--spacing-xs)}.simple-close-btn:hover{color:var(--text-color-dark)}.recap-actions{text-align:center;justify-content:center;padding:var(--spacing-lg)}body.dark-mode .recap-modal .modal-title{color:var(--primary-color-lighter)}body.dark-mode .recap-modal .modal-subtitle{color:#a0a3a8}body.dark-mode .recap-body-content p,body.dark-mode .recap-body-content p strong{color:var(--text-color-light)}body.dark-mode .recap-section{border-bottom-color:var(--border-color-dark)}body.dark-mode .recap-section h4{color:var(--primary-color-lighter)}body.dark-mode .recap-section ul li{color:#b0b3b8}body.dark-mode .recap-section ul li:before{color:#32cd32}body.dark-mode .simple-close-btn{color:#8a8d91}body.dark-mode .simple-close-btn:hover{color:var(--text-color-light)}#find-view .view-content{padding:var(--spacing-xs) 0}#groups-view .view-content{display:flex;flex-direction:column;height:100%;overflow:hidden}.group-list-view{height:100%;overflow-y:auto;padding:var(--spacing-md)}.group-chat-container{display:flex;flex-direction:column;height:100%;position:relative;border:1px solid var(--border-color-light);border-radius:var(--border-radius-md);background-color:var(--bg-white);box-shadow:var(--shadow-md);overflow:hidden}.group-chat-header{display:flex;align-items:center;justify-content:center;padding:0 var(--spacing-md);background-color:var(--bg-light);border-bottom:1px solid var(--border-color-light);flex-shrink:0;position:relative;top:0;height:56px}#leave-group-btn{position:absolute;left:var(--spacing-md);top:50%;transform:translateY(-50%);font-size:.9em;padding:var(--spacing-xs) var(--spacing-sm);z-index:1}#active-group-name{font-size:1.1em;font-weight:var(--font-weight-semibold);/margin: 0 var(--spacing-sm);flex-grow:1;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:auto;max-width:calc(100% - 100px - 120px - (var(--spacing-md) * 2))}#group-chat-members-avatars{position:absolute;right:var(--spacing-md);top:50%;transform:translateY(-50%);display:flex;align-items:center;z-index:1}#group-chat-members-avatars .member-avatar-small{width:28px;height:28px;border-radius:var(--border-radius-circle);margin-left:-10px;border:2px solid var(--bg-white);box-shadow:0 0 4px #00000026;object-fit:cover;background-color:var(--secondary-color-lighter)}#group-chat-members-avatars .member-avatar-small:first-child{margin-left:0}#group-chat-log{flex-grow:1;overflow-y:auto;padding:var(--spacing-md);background-color:var(--bg-white)}.group-chat-footer{display:flex;align-items:center;flex-shrink:0;position:sticky;bottom:0;padding:var(--spacing-sm) var(--spacing-md);border-top:1px solid var(--border-color-light);background-color:var(--bg-light);z-index:20}#group-chat-input{flex-grow:1;margin-right:var(--spacing-sm);width:100%;max-width:none;padding:var(--spacing-xs) var(--spacing-sm);border:1px solid var(--border-color-light);border-radius:var(--border-radius-md);box-sizing:border-box}#group-chat-send-btn{flex-shrink:0;padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius-md);background-color:var(--primary-color);color:#fff;border:none;cursor:pointer}.chat-message-wrapper{display:flex;align-items:flex-end;margin-bottom:8px;width:fit-content;max-width:75%}.chat-message-wrapper.user-wrapper{margin-left:auto;flex-direction:row-reverse}.chat-message-ui.user{background-color:var(--primary-color);color:#fff;border-bottom-right-radius:5px;max-width:100%;word-wrap:break-word;overflow-wrap:break-word;word-break:break-word;padding:10px 14px;box-sizing:border-box;line-height:1.4}.chat-message-wrapper.user-wrapper .chat-message-ui{margin-left:auto}body.dark-mode .group-chat-container{border-color:var(--border-color-dark)}body.dark-mode .group-chat-header{background-color:var(--bg-dark-tertiary);border-bottom-color:var(--border-color-dark)}body.dark-mode #group-chat-members-avatars .member-avatar-small{border-color:var(--bg-dark-tertiary)}body.dark-mode .group-chat-footer{background-color:var(--bg-dark-tertiary);border-top-color:var(--border-color-dark)}.group-discovery-list-item .lang-flag-lg{width:40px;height:30px;margin-right:var(--spacing-md);border-radius:var(--border-radius-sm);object-fit:cover;flex-shrink:0}.group-discovery-list-item .group-avatar-icon.large-group-icon{width:48px;height:48px;font-size:1.5em}.group-discovery-list-item .list-item-subtext{white-space:normal;overflow:visible;text-overflow:clip;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;line-height:1.3;max-height:2.6em}.join-group-btn-list,.view-group-chat-btn-list{margin-left:var(--spacing-md);flex-shrink:0}.view-group-chat-btn-list{font-size:.9rem;padding:10px 15px;background-color:var(--info-color);color:var(--text-color-light);border:1px solid var(--info-color-dark);border-radius:var(--border-radius-md);cursor:pointer;display:inline-flex;align-items:center;gap:var(--spacing-xs);transition:background-color .2s ease,border-color .2s ease}.view-group-chat-btn-list:hover{background-color:var(--info-color-dark);border-color:var(--info-color-darker);color:var(--text-color-light);transform:translateY(-2px);box-shadow:0 4px 10px #0000001a}.view-group-chat-btn-list i{font-size:1.1em}body.dark-mode .view-group-chat-btn-list{background-color:var(--primary-color-lighter);border-color:var(--primary-color-dark);color:var(--text-color-light)}body.dark-mode .view-group-chat-btn-list:hover{background-color:var(--primary-color-dark);border-color:var(--primary-color-darker);color:var(--text-color-light)}.chat-message-ui.connector{max-width:75%;word-wrap:break-word;overflow-wrap:break-word}overflow-wrap: break-word; }ody.dark-mode .chat-message-ui.connector{background-color:var(--bg-dark-tertiary);body.dark-mode .chat-message-ui.connector{background-color:var(--bg-dark-tertiary);color:var(--text-color-light)}#home-view .view-content{display:flex;justify-content:center;padding-top:var(--spacing-xl)}.tips-panel{background-color:var(--bg-white);padding:var(--spacing-xl);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-lg);max-width:700px;width:100%}.tips-panel h3{font-family:var(--font-secondary);margin-top:0;color:var(--primary-color);display:flex;align-items:center;font-size:1.5em;margin-bottom:var(--spacing-lg)}.tips-panel h3 i.fa-lightbulb{margin-right:var(--spacing-sm);font-size:1.2em;color:#f1c40f}#homepage-tips-list{list-style:none;padding-left:0}#homepage-tips-list li{padding:var(--spacing-sm) 0;border-bottom:1px dashed var(--border-color-light);font-size:1em;color:var(--text-color-muted);display:flex;align-items:flex-start}#homepage-tips-list li:last-child{border-bottom:none}#homepage-tips-list li .tip-icon{margin-right:var(--spacing-sm);color:var(--accent-color-1);margin-top:4px;font-size:.9em}body.dark-mode .tips-panel{background-color:var(--bg-dark-secondary);box-shadow:0 5px 20px #00000040}body.dark-mode .tips-panel h3{color:var(--primary-color-lighter)}body.dark-mode .tips-panel h3 i.fa-lightbulb{color:#f5d76e}body.dark-mode #homepage-tips-list li{border-bottom-color:var(--border-color-dark);color:#b0b3b8}body.dark-mode #homepage-tips-list li .tip-icon{color:var(--accent-color-1)}#messages-view .view-content{display:flex;flex-direction:column;height:100%;overflow:hidden}.embedded-chat-ui{display:flex;flex-direction:column;height:100%;border-radius:var(--border-radius-md);background-color:var(--bg-white);overflow:hidden;box-shadow:var(--shadow-sm);position:relative}.embedded-chat-main-header,.messaging-interface-header{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-md) var(--spacing-lg);border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:10;background-color:var(--bg-white)}.embedded-chat-footer{padding:var(--spacing-sm) var(--spacing-md);border-top:1px solid var(--border-color-light);background-color:var(--bg-light);display:flex;align-items:center;flex-shrink:0;position:sticky;bottom:0;z-index:10}#embedded-chat-log{flex-grow:1;overflow-y:auto;padding:var(--spacing-md);background-color:var(--bg-white)}#embedded-message-activity-area{border-top:1px solid var(--border-color-light);border-bottom:1px solid var(--border-color-light);background-color:var(--bg-light)}#embedded-message-attach-btn{margin-right:var(--spacing-xs)}#embedded-message-text-input{flex-grow:1;margin-right:var(--spacing-sm)}body.dark-mode .embedded-chat-ui{border-color:var(--border-color-dark);background-color:var(--bg-dark-secondary);box-shadow:0 2px 5px #0003}body.dark-mode #embedded-message-activity-area{border-color:var(--border-color-dark)}body.dark-mode .embedded-chat-footer{background-color:var(--bg-dark-tertiary);border-top-color:var(--border-color-dark)}body.dark-mode .embedded-chat-main-header{background-color:var(--bg-dark-secondary);border-bottom-color:var(--border-color-dark)}.partner-info{display:flex;align-items:center;gap:var(--spacing-md)}.chat-header-avatar{width:40px;height:40px;border-radius:var(--border-radius-circle);object-fit:cover;border:1px solid var(--border-color-light)}#embedded-chat-header-name{font-size:1.2em;font-weight:500;margin:0;line-height:1.2}.chat-message-wrapper{display:flex;align-items:flex-start;margin-bottom:10px;max-width:100%}.chat-message-wrapper.user-wrapper{margin-left:auto;flex-direction:row-reverse}.chat-message-wrapper.connector-wrapper{margin-right:auto;flex-direction:row}.chat-bubble-avatar{width:32px;height:32px;border-radius:50%;object-fit:cover;margin-top:auto}.chat-message-wrapper.has-avatar-left .chat-bubble-avatar{margin-right:8px}.chat-message-wrapper.has-avatar-right .chat-bubble-avatar{margin-left:8px}.chat-message-ui{padding:8px 12px;border-radius:15px;line-height:1.4;word-wrap:break-word;max-width:calc(100% - 40px);background-color:var(--bg-light);color:var(--text-color);box-shadow:0 2px 5px #0000001a}.chat-message-ui.user{background-color:var(--primary-color);color:#fff;border-bottom-right-radius:5px}.chat-message-wrapper.user-wrapper .chat-message-ui{margin-left:auto}.chat-message-ui.connector{background-color:var(--background-alt-color);color:var(--text-color);border-bottom-left-radius:5px}.chat-message-wrapper.connector-wrapper .chat-message-ui{margin-right:auto}.chat-message-ui.connector .chat-message-sender-name{color:var(--primary-color-darker, #0056b3)}.chat-message-image{max-width:100%;border-radius:10px;margin-top:5px}.chat-message-ui.system-message{background-color:var(--bg-light-secondary);color:var(--text-color-muted);text-align:center;margin-left:auto;margin-right:auto}.chat-message-wrapper.system-message{justify-content:center;max-width:100%}#summary-view .view-content{padding:var(--spacing-md)}.recap-modal-content-embedded{background-color:var(--bg-white);padding:var(--spacing-lg);border-radius:var(--border-radius-md);box-shadow:var(--shadow-lg);max-width:800px;margin:0 auto;height:100%;overflow-y:auto}.recap-modal-content-embedded h3{font-size:1.5em;color:var(--primary-color);margin-bottom:var(--spacing-xs);text-align:center}.recap-modal-content-embedded p{font-size:.95em;margin-bottom:var(--spacing-sm);text-align:center}.recap-modal-content-embedded p strong{font-weight:var(--font-weight-medium)}.recap-modal-content-embedded .recap-section{margin-bottom:var(--spacing-lg);padding-bottom:var(--spacing-md);border-bottom:1px dashed var(--border-color-light)}.recap-modal-content-embedded .recap-section:last-of-type{border-bottom:none;margin-bottom:0}.recap-modal-content-embedded .recap-section h4{font-size:1.1em;color:var(--primary-color);margin-bottom:var(--spacing-sm);display:flex;align-items:center}.recap-modal-content-embedded .recap-section h4 i{margin-right:var(--spacing-sm)}.recap-modal-content-embedded .recap-section ul{list-style:none;padding-left:var(--spacing-xs)}.recap-modal-content-embedded .recap-section ul li{font-size:.9em;color:var(--text-color-muted);margin-bottom:var(--spacing-xs);padding-left:var(--spacing-lg);position:relative}.recap-modal-content-embedded .recap-section ul li:before{content:"✓";color:var(--success-color);position:absolute;left:0;top:1px;font-weight:var(--font-weight-bold)}#summary-view-download-btn{display:block;margin:var(--spacing-lg) auto 0 auto;width:fit-content}body.dark-mode .recap-modal-content-embedded{background-color:var(--bg-dark-secondary);box-shadow:0 5px 15px #0003}body.dark-mode .recap-modal-content-embedded h3{color:var(--primary-color-lighter)}body.dark-mode .recap-modal-content-embedded p,body.dark-mode .recap-modal-content-embedded p strong{color:var(--text-color-light)}body.dark-mode .recap-modal-content-embedded .recap-section{border-bottom-color:var(--border-color-dark)}body.dark-mode .recap-modal-content-embedded .recap-section h4{color:var(--primary-color-lighter)}body.dark-mode .recap-modal-content-embedded .recap-section ul li{color:#b0b3b8}body.dark-mode .recap-modal-content-embedded .recap-section ul li:before{color:#32cd32}body.dark-mode{background-color:var(--bg-dark-primary);color:var(--text-color-light)}body.dark-mode #polyglot-connect-app-shell{background-color:var(--bg-dark-primary)}body.dark-mode #left-sidebar{background-color:var(--bg-dark-secondary);color:#dadce0;box-shadow:2px 0 8px #00000040}body.dark-mode .sidebar-header{border-bottom-color:var(--bg-dark-tertiary)}body.dark-mode .sidebar-logo{background-color:var(--bg-dark-tertiary)}body.dark-mode .sidebar-title-text{color:var(--text-color-light)}body.dark-mode .main-nav .nav-item a{color:#b0b3b8}body.dark-mode .main-nav .nav-item a:hover{background-color:var(--bg-dark-tertiary);color:var(--text-color-light)}body.dark-mode .main-nav .nav-item.active a{background-color:var(--primary-color);color:var(--text-color-light);border-left-color:var(--accent-color-1)}body.dark-mode .sidebar-footer{border-top-color:var(--bg-dark-tertiary)}body.dark-mode .copyright-text{color:#8a8d91}body.dark-mode .theme-toggle-btn{border-color:#7f8c8d;color:#7f8c8d}body.dark-mode .theme-toggle-btn:hover{color:var(--text-color-light);border-color:var(--text-color-light);background-color:#ffffff0d}body.dark-mode #main-container{background-color:var(--bg-dark-primary)}body.dark-mode .view-header{border-bottom-color:var(--bg-dark-tertiary)}body.dark-mode .view-header h1{color:var(--text-color-light)}body.dark-mode .view-header p{color:#b0b3b8}body.dark-mode .loading-message,body.dark-mode .empty-list-msg{color:#8a8d91}body.dark-mode .tips-panel{background-color:var(--bg-dark-secondary);box-shadow:var(--shadow-md)}body.dark-mode .tips-panel h3{color:var(--accent-color-1)}body.dark-mode #homepage-tips-list li{border-bottom-color:var(--bg-dark-tertiary)}body.dark-mode #right-sidebar{background-color:var(--bg-dark-secondary);border-left-color:var(--bg-dark-tertiary)}body.dark-mode .sidebar-panel h4{color:var(--text-color-light);border-bottom-color:var(--bg-dark-tertiary)}body.dark-mode .sidebar-panel h4 i{color:var(--primary-color)}body.dark-mode .filter-group label{color:#b0b3b8}body.dark-mode .styled-select,body.dark-mode .filter-group select,body.dark-mode .filter-group input[type=text]{background-color:var(--bg-dark-tertiary);color:var(--text-color-light);border-color:#555}body.dark-mode .styled-select:focus,body.dark-mode .filter-group select:focus,body.dark-mode .filter-group input[type=text]:focus{border-color:var(--primary-color);box-shadow:0 0 0 2px #007bff40}body.dark-mode .sidebar-action-btn.primary-btn{background-color:var(--primary-color)}body.dark-mode .sidebar-action-btn.primary-btn:hover{background-color:var(--primary-color-darker)}body.dark-mode .sidebar-list li .chat-list-item,body.dark-mode .sidebar-list li .summary-list-item{color:var(--text-color-light)}body.dark-mode .sidebar-list li .chat-list-item:hover,body.dark-mode .sidebar-list li .summary-list-item:hover{background-color:#4a4b4d;border-color:#5f6061}body.dark-mode .sidebar-list li.active-chat-item .chat-list-item{background-color:var(--primary-color);color:var(--text-color-light)}body.dark-mode .chat-list-item-avatar{background-color:#555}body.dark-mode .chat-list-item-status{border-color:var(--bg-dark-secondary)}body.dark-mode .chat-list-item-status.active{background-color:#32cd32}body.dark-mode .connector-card{background-color:var(--bg-dark-secondary);box-shadow:0 5px 15px #0003}body.dark-mode .connector-card:hover{box-shadow:0 8px 20px #007bff33}body.dark-mode .connector-card-bg{background:linear-gradient(135deg,#432d77,#3e5f8e,#4a7e7a);border-bottom-color:var(--bg-dark-tertiary)}body.dark-mode .connector-avatar{border-color:var(--bg-dark-secondary);background-color:#444}body.dark-mode .connector-status{border-color:var(--bg-dark-secondary)}body.dark-mode .connector-name{color:var(--text-color-light)}body.dark-mode .connector-language{color:#b0b3b8}body.dark-mode .connector-bio{color:#a0a3a8}body.dark-mode .connector-actions{background-color:var(--bg-dark-tertiary);border-top-color:var(--border-color-dark)}body.dark-mode .connector-actions .view-profile-btn{background-color:var(--primary-color)}body.dark-mode .connector-actions .view-profile-btn:hover{background-color:var(--primary-color-darker)}body.dark-mode .group-chat-container{background-color:var(--bg-dark-secondary);border-color:var(--border-color-dark)}body.dark-mode .group-chat-header{background-color:var(--bg-dark-tertiary);border-bottom-color:var(--border-color-dark)}body.dark-mode #leave-group-btn{color:var(--primary-color-lighter)}body.dark-mode #leave-group-btn:hover{color:#79c0ff}body.dark-mode #group-chat-members-avatars .member-avatar-small{border-color:var(--bg-dark-tertiary)}body.dark-mode .chat-log-area{background-color:var(--bg-dark-primary)}body.dark-mode .group-chat-footer,body.dark-mode .embedded-chat-footer{background-color:var(--bg-dark-secondary);border-top-color:var(--border-color-dark)}body.dark-mode #group-chat-input,body.dark-mode #embedded-message-text-input{background-color:var(--bg-dark-tertiary);border-color:#555;color:var(--text-color-light)}body.dark-mode .typing-indicator{color:#a0a3a8}body.dark-mode .available-groups-list li{border-bottom-color:var(--bg-dark-tertiary)}body.dark-mode .available-groups-list li:hover{background-color:#3e3f40}body.dark-mode .group-list-member-count{color:#a0a3a8}body.dark-mode .embedded-chat-ui{border-color:var(--border-color-dark)}body.dark-mode #embedded-message-attach-btn{color:var(--primary-color-lighter)}}
