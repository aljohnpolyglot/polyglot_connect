import"./modulepreload-polyfill-B5Qt9EMX.js";import{initializeApp as l}from"https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";import{getAuth as d}from"https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";import"./navbar-loader-Dgms1r9_.js";import"./index.esm-D1DTObcl.js";const u={apiKey:"YOUR_API_KEY",authDomain:"YOUR_AUTH_DOMAIN",projectId:"YOUR_PROJECT_ID",storageBucket:"YOUR_STORAGE_BUCKET",messagingSenderId:"YOUR_SENDER_ID",appId:"YOUR_APP_ID"},p=l(u),y=d(p),_="pri_...your_monthly_id...",m="pri_...your_yearly_id...",h="https://your-vercel-project-name.vercel.app/api/create-payment";async function a(e,s,c){const o=y.currentUser;if(!o){alert("Please sign in or create an account first to subscribe."),window.location.href="/#firebaseui-auth-container";return}const t=c.currentTarget;t.innerHTML='<i class="fas fa-spinner fa-spin"></i> Redirecting...',t.disabled=!0;try{const r=await o.getIdToken(!0),n=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({planId:e,priceId:s})});if(!n.ok)throw new Error(`Server error: ${await n.text()}`);const i=await n.json();if(i.checkoutUrl)window.location.href=i.checkoutUrl;else throw new Error("Could not get checkout URL.")}catch(r){console.error("Payment failed:",r),alert("Could not start payment process. Please try again."),t.innerHTML=e==="monthly"?"Become an Insider":"Go Trailblazer",t.disabled=!1}}document.getElementById("subscribe-monthly-btn").addEventListener("click",e=>a("monthly",_,e));document.getElementById("subscribe-yearly-btn").addEventListener("click",e=>a("yearly",m,e));
